var ir=Object.defineProperty;var or=(t,e,n)=>e in t?ir(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bt=(t,e,n)=>(or(t,typeof e!="symbol"?e+"":e,n),n);import{g as _t,h as Ee,r as $e,o as de,c as ar,w as ur,E as Z,i as Ce,j as sn,t as cn,F as sr,k as cr,l as pe,m as ln,n as fn,p as lr}from"./vendor.5d023e21.js";import{_ as Et}from"./index.489ea6a4.js";var K=function(){return K=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},K.apply(this,arguments)};function Ct(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}var G=Object.keys,V=Array.isArray,O=typeof self!="undefined"?self:typeof window!="undefined"?window:global;typeof Promise!="undefined"&&!O.Promise&&(O.Promise=Promise);function W(t,e){return typeof e!="object"||G(e).forEach(function(n){t[n]=e[n]}),t}var hn=Object.getPrototypeOf,fr={}.hasOwnProperty;function X(t,e){return fr.call(t,e)}function Ke(t,e){typeof e=="function"&&(e=e(hn(t))),G(e).forEach(function(n){ae(t,n,e[n])})}var dn=Object.defineProperty;function ae(t,e,n,r){dn(t,e,W(n&&X(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Te(t){return{from:function(e){return t.prototype=Object.create(e.prototype),ae(t.prototype,"constructor",t),{extend:Ke.bind(null,t.prototype)}}}}var hr=Object.getOwnPropertyDescriptor;function Tt(t,e){var n=hr(t,e),r;return n||(r=hn(t))&&Tt(r,e)}var dr=[].slice;function et(t,e,n){return dr.call(t,e,n)}function pn(t,e){return e(t)}function Pe(t){if(!t)throw new Error("Assertion Failed")}function vn(t){O.setImmediate?setImmediate(t):setTimeout(t,0)}function yn(t,e){return t.reduce(function(n,r,i){var o=e(r,i);return o&&(n[o[0]]=o[1]),n},{})}function pr(t,e,n){try{t.apply(null,n)}catch(r){e&&e(r)}}function ee(t,e){if(X(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,i=e.length;r<i;++r){var o=ee(t,e[r]);n.push(o)}return n}var a=e.indexOf(".");if(a!==-1){var u=t[e.substr(0,a)];return u===void 0?void 0:ee(u,e.substr(a+1))}}function $(t,e,n){if(!(!t||e===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){Pe(typeof n!="string"&&"length"in n);for(var r=0,i=e.length;r<i;++r)$(t,e[r],n[r])}else{var o=e.indexOf(".");if(o!==-1){var a=e.substr(0,o),u=e.substr(o+1);if(u==="")n===void 0?V(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=n;else{var s=t[a];s||(s=t[a]={}),$(s,u,n)}}else n===void 0?V(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function mn(t,e){typeof e=="string"?$(t,e,void 0):"length"in e&&[].map.call(e,function(n){$(t,n,void 0)})}function gn(t){var e={};for(var n in t)X(t,n)&&(e[n]=t[n]);return e}var vr=[].concat;function An(t){return vr.apply([],t)}var wn="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(An([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return O[t]}),yr=wn.map(function(t){return O[t]}),mr=yn(wn,function(t){return[t,!0]});function Ie(t){if(!t||typeof t!="object")return t;var e;if(V(t)){e=[];for(var n=0,r=t.length;n<r;++n)e.push(Ie(t[n]))}else if(yr.indexOf(t.constructor)>=0)e=t;else{e=t.constructor?Object.create(t.constructor.prototype):{};for(var i in t)X(t,i)&&(e[i]=Ie(t[i]))}return e}var gr={}.toString;function xt(t){return gr.call(t).slice(8,-1)}var Dt=function(t,e){return e==="Array"?""+t.map(function(n){return Dt(n,xt(n))}):e==="ArrayBuffer"?""+new Uint8Array(t):e==="Date"?t.getTime():ArrayBuffer.isView(t)?""+new Uint8Array(t.buffer):t};function Bt(t,e,n,r){return n=n||{},r=r||"",G(t).forEach(function(i){if(!X(e,i))n[r+i]=void 0;else{var o=t[i],a=e[i];if(typeof o=="object"&&typeof a=="object"&&o&&a){var u=xt(o),s=xt(a);u===s?mr[u]?Dt(o,u)!==Dt(a,s)&&(n[r+i]=e[i]):Bt(o,a,n,r+i+"."):n[r+i]=e[i]}else o!==a&&(n[r+i]=e[i])}}),G(e).forEach(function(i){X(t,i)||(n[r+i]=e[i])}),n}var bn=typeof Symbol!="undefined"&&Symbol.iterator,Ar=bn?function(t){var e;return t!=null&&(e=t[bn])&&e.apply(t)}:function(){return null},xe={};function ue(t){var e,n,r,i;if(arguments.length===1){if(V(t))return t.slice();if(this===xe&&typeof t=="string")return[t];if(i=Ar(t)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(t==null)return[t];if(e=t.length,typeof e=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var _n=typeof Symbol!="undefined"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},te=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function En(t,e){te=t,Cn=e}var Cn=function(){return!0},wr=!new Error("").stack;function De(){if(wr)try{throw new Error}catch(t){return t}return new Error}function St(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(Cn).map(function(r){return`
`+r}).join("")):""}var br=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Tn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],kt=br.concat(Tn),_r={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function Be(t,e){this._e=De(),this.name=t,this.message=e}Te(Be).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+St(this._e,2))}},toString:function(){return this.name+": "+this.message}});function xn(t,e){return t+". Errors: "+Object.keys(e).map(function(n){return e[n].toString()}).filter(function(n,r,i){return i.indexOf(n)===r}).join(`
`)}function tt(t,e,n,r){this._e=De(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=xn(t,e)}Te(tt).from(Be);function Oe(t,e){this._e=De(),this.name="BulkError",this.failures=e,this.message=xn(t,e)}Te(Oe).from(Be);var Er=kt.reduce(function(t,e){return t[e]=e+"Error",t},{}),Cr=Be,B=kt.reduce(function(t,e){var n=e+"Error";function r(i,o){this._e=De(),this.name=n,i?typeof i=="string"?(this.message=""+i+(o?`
 `+o:""),this.inner=o||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=_r[e]||n,this.inner=null)}return Te(r).from(Cr),t[e]=r,t},{});B.Syntax=SyntaxError;B.Type=TypeError;B.Range=RangeError;var Dn=Tn.reduce(function(t,e){return t[e+"Error"]=B[e],t},{});function Tr(t,e){if(!t||t instanceof Be||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Dn[t.name])return t;var n=new Dn[t.name](e||t.message,t);return"stack"in t&&ae(n,"stack",{get:function(){return this.inner.stack}}),n}var nt=kt.reduce(function(t,e){return["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=B[e]),t},{});nt.ModifyError=tt;nt.DexieError=Be;nt.BulkError=Oe;function P(){}function Me(t){return t}function xr(t,e){return t==null||t===Me?e:function(n){return e(t(n))}}function ve(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function Dr(t,e){return t===P?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ve(r,this.onsuccess):r),i&&(this.onerror=this.onerror?ve(i,this.onerror):i),o!==void 0?o:n}}function Br(t,e){return t===P?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ve(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ve(r,this.onerror):r)}}function Sr(t,e){return t===P?e:function(n){var r=t.apply(this,arguments);W(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?ve(i,this.onsuccess):i),o&&(this.onerror=this.onerror?ve(o,this.onerror):o),r===void 0?a===void 0?void 0:a:W(r,a)}}function kr(t,e){return t===P?e:function(){return e.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function Bn(t,e){return t===P?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return e.apply(r,o)})}return e.apply(this,arguments)}}var ze={},Rr=100,Fr=20,Sn=100,Rt=typeof Promise=="undefined"?[]:function(){var t=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[t,t.__proto__,t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,e.__proto__,t]}(),Ft=Rt[0],rt=Rt[1],Kt=Rt[2],kn=rt&&rt.then,it=Ft&&Ft.constructor,Pt=!!Kt,It=!1,Kr=Kt?function(){Kt.then(st)}:O.setImmediate?setImmediate.bind(null,st):O.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){st(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(st,0)},Qe=function(t,e){qe.push([t,e]),ot&&(Kr(),ot=!1)},Ot=!0,ot=!0,ye=[],at=[],Mt=null,zt=Me,Se={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:qn,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(t){try{qn(t[0],t[1])}catch{}})}},T=Se,qe=[],me=0,ut=[];function b(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=P,this._lib=!1;var e=this._PSD=T;if(te&&(this._stackHolder=De(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==ze)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&qt(this,this._value);return}this._state=null,this._value=null,++e.ref,Fn(this,t)}var Qt={get:function(){var t=T,e=ft;function n(r,i){var o=this,a=!t.global&&(t!==T||e!==ft),u=a&&!Ae(),s=new b(function(c,l){Jt(o,new Rn(dt(r,t,a,u),dt(i,t,a,u),c,l,t))});return te&&In(s,this),s}return n.prototype=ze,n},set:function(t){ae(this,"then",t&&t.prototype===ze?Qt:{get:function(){return t},set:Qt.set})}};Ke(b.prototype,{then:Qt,_then:function(t,e){Jt(this,new Rn(null,null,t,e,T))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,function(r){return r instanceof e?n(r):ct(r)}):this.then(null,function(r){return r&&r.name===e?n(r):ct(r)})},finally:function(t){return this.then(function(e){return t(),e},function(e){return t(),ct(e)})},stack:{get:function(){if(this._stack)return this._stack;try{It=!0;var t=Pn(this,[],Fr),e=t.join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{It=!1}}},timeout:function(t,e){var n=this;return t<1/0?new b(function(r,i){var o=setTimeout(function(){return i(new B.Timeout(e))},t);n.then(r,i).finally(clearTimeout.bind(null,o))}):this}});typeof Symbol!="undefined"&&Symbol.toStringTag&&ae(b.prototype,Symbol.toStringTag,"Dexie.Promise");Se.env=On();function Rn(t,e,n,r,i){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=i}Ke(b,{all:function(){var t=ue.apply(null,arguments).map(ht);return new b(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach(function(i,o){return b.resolve(i).then(function(a){t[o]=a,--r||e(t)},n)})})},resolve:function(t){if(t instanceof b)return t;if(t&&typeof t.then=="function")return new b(function(n,r){t.then(n,r)});var e=new b(ze,!0,t);return In(e,Mt),e},reject:ct,race:function(){var t=ue.apply(null,arguments).map(ht);return new b(function(e,n){t.map(function(r){return b.resolve(r).then(e,n)})})},PSD:{get:function(){return T},set:function(t){return T=t}},totalEchoes:{get:function(){return ft}},newPSD:ge,usePSD:Ne,scheduler:{get:function(){return Qe},set:function(t){Qe=t}},rejectionMapper:{get:function(){return zt},set:function(t){zt=t}},follow:function(t,e){return new b(function(n,r){return ge(function(i,o){var a=T;a.unhandleds=[],a.onunhandled=o,a.finalize=ve(function(){var u=this;Ir(function(){u.unhandleds.length===0?i():o(u.unhandleds[0])})},a.finalize),t()},e,n,r)})}});it&&(it.allSettled&&ae(b,"allSettled",function(){var t=ue.apply(null,arguments).map(ht);return new b(function(e){t.length===0&&e([]);var n=t.length,r=new Array(n);t.forEach(function(i,o){return b.resolve(i).then(function(a){return r[o]={status:"fulfilled",value:a}},function(a){return r[o]={status:"rejected",reason:a}}).then(function(){return--n||e(r)})})})}),it.any&&typeof AggregateError!="undefined"&&ae(b,"any",function(){var t=ue.apply(null,arguments).map(ht);return new b(function(e,n){t.length===0&&n(new AggregateError([]));var r=t.length,i=new Array(r);t.forEach(function(o,a){return b.resolve(o).then(function(u){return e(u)},function(u){i[a]=u,--r||n(new AggregateError(i))})})})}));function Fn(t,e){try{e(function(n){if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Je();n&&typeof n.then=="function"?Fn(t,function(i,o){n instanceof b?n._then(i,o):n.then(i,o)}):(t._state=!0,t._value=n,Kn(t)),r&&Ye()}},qt.bind(null,t))}catch(n){qt(t,n)}}function qt(t,e){if(at.push(e),t._state===null){var n=t._lib&&Je();e=zt(e),t._state=!1,t._value=e,te&&e!==null&&typeof e=="object"&&!e._promise&&pr(function(){var r=Tt(e,"stack");e._promise=t,ae(e,"stack",{get:function(){return It?r&&(r.get?r.get.apply(e):r.value):t.stack}})}),Or(t),Kn(t),n&&Ye()}}function Kn(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)Jt(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),me===0&&(++me,Qe(function(){--me==0&&Yt()},[]))}function Jt(t,e){if(t._state===null){t._listeners.push(e);return}var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++me,Qe(Pr,[n,t,e])}function Pr(t,e,n){try{Mt=e;var r,i=e._value;e._state?r=t(i):(at.length&&(at=[]),r=t(i),at.indexOf(i)===-1&&Mr(e)),n.resolve(r)}catch(o){n.reject(o)}finally{Mt=null,--me==0&&Yt(),--n.psd.ref||n.psd.finalize()}}function Pn(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var i=t._value,o,a;i!=null?(o=i.name||"Error",a=i.message||i,r=St(i,0)):(o=i,a=""),e.push(o+(a?": "+a:"")+r)}return te&&(r=St(t._stackHolder,2),r&&e.indexOf(r)===-1&&e.push(r),t._prev&&Pn(t._prev,e,n)),e}function In(t,e){var n=e?e._numPrev+1:0;n<Rr&&(t._prev=e,t._numPrev=n)}function st(){Je()&&Ye()}function Je(){var t=Ot;return Ot=!1,ot=!1,t}function Ye(){var t,e,n;do for(;qe.length>0;)for(t=qe,qe=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(qe.length>0);Ot=!0,ot=!0}function Yt(){var t=ye;ye=[],t.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var e=ut.slice(0),n=e.length;n;)e[--n]()}function Ir(t){function e(){t(),ut.splice(ut.indexOf(e),1)}ut.push(e),++me,Qe(function(){--me==0&&Yt()},[])}function Or(t){ye.some(function(e){return e._value===t._value})||ye.push(t)}function Mr(t){for(var e=ye.length;e;)if(ye[--e]._value===t._value){ye.splice(e,1);return}}function ct(t){return new b(ze,!1,t)}function M(t,e){var n=T;return function(){var r=Je(),i=T;try{return le(n,!0),t.apply(this,arguments)}catch(o){e&&e(o)}finally{le(i,!1),r&&Ye()}}}var N={awaits:0,echoes:0,id:0},zr=0,lt=[],Gt=0,ft=0,Qr=0;function ge(t,e,n,r){var i=T,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Qr;var a=Se.env;o.env=Pt?{Promise:b,PromiseProp:{value:b,configurable:!0,writable:!0},all:b.all,race:b.race,allSettled:b.allSettled,any:b.any,resolve:b.resolve,reject:b.reject,nthen:zn(a.nthen,o),gthen:zn(a.gthen,o)}:{},e&&W(o,e),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=Ne(o,t,n,r);return o.ref===0&&o.finalize(),u}function Ge(){return N.id||(N.id=++zr),++N.awaits,N.echoes+=Sn,N.id}function Ae(){return N.awaits?(--N.awaits==0&&(N.id=0),N.echoes=N.awaits*Sn,!0):!1}(""+kn).indexOf("[native code]")===-1&&(Ge=Ae=P);function ht(t){return N.echoes&&t&&t.constructor===it?(Ge(),t.then(function(e){return Ae(),e},function(e){return Ae(),j(e)})):t}function qr(t){++ft,(!N.echoes||--N.echoes==0)&&(N.echoes=N.id=0),lt.push(T),le(t,!0)}function Jr(){var t=lt[lt.length-1];lt.pop(),le(t,!1)}function le(t,e){var n=T;if((e?N.echoes&&(!Gt++||t!==T):Gt&&(!--Gt||t!==T))&&Mn(e?qr.bind(null,t):Jr),t!==T&&(T=t,n===Se&&(Se.env=On()),Pt)){var r=Se.env.Promise,i=t.env;rt.then=i.nthen,r.prototype.then=i.gthen,(n.global||t.global)&&(Object.defineProperty(O,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function On(){var t=O.Promise;return Pt?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(O,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:rt.then,gthen:t.prototype.then}:{}}function Ne(t,e,n,r,i){var o=T;try{return le(t,!0),e(n,r,i)}finally{le(o,!1)}}function Mn(t){kn.call(Ft,t)}function dt(t,e,n,r){return typeof t!="function"?t:function(){var i=T;n&&Ge(),le(e,!0);try{return t.apply(this,arguments)}finally{le(i,!1),r&&Mn(Ae)}}}function zn(t,e){return function(n,r){return t.call(this,dt(n,e),dt(r,e))}}var Qn="unhandledrejection";function qn(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,i={promise:e,reason:t};if(O.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(Qn,!0,!0),W(r,i)):O.CustomEvent&&(r=new CustomEvent(Qn,{detail:i}),W(r,i)),r&&O.dispatchEvent&&(dispatchEvent(r),!O.PromiseRejectionEvent&&O.onunhandledrejection))try{O.onunhandledrejection(r)}catch{}te&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(t.stack||t))}catch{}}var j=b.reject;function Jn(t,e,n,r){if(!t._state.openComplete&&!T.letThrough){if(!t._state.isBeingOpened){if(!t._options.autoOpen)return j(new B.DatabaseClosed);t.open().catch(P)}return t._state.dbReadyPromise.then(function(){return Jn(t,e,n,r)})}else{var i=t._createTransaction(e,n,t._dbSchema);try{i.create()}catch(o){return j(o)}return i._promise(e,function(o,a){return ge(function(){return T.trans=i,r(o,a,i)})}).then(function(o){return i._completion.then(function(){return o})})}}var Yn="3.0.3",ke=String.fromCharCode(65535),Nt=-1/0,se="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Gn="String expected.",je=[],jt=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Yr=jt,Gr=jt,Nn=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)},pt="__dbnames",Vt="readonly",Ut="readwrite";function we(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var jn={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function vt(t){return function(e){return ee(e,t)===void 0&&(e=Ie(e),mn(e,t)),e}}var Nr=function(){function t(){}return t.prototype._trans=function(e,n,r){var i=this._tx||T.trans,o=this.name;function a(s,c,l){if(!l.schema[o])throw new B.NotFound("Table "+o+" not part of transaction");return n(l.idbtrans,l)}var u=Je();try{return i&&i.db===this.db?i===T.trans?i._promise(e,a,r):ge(function(){return i._promise(e,a,r)},{trans:i,transless:T.transless||T}):Jn(this.db,e,[this.name],a)}finally{u&&Ye()}},t.prototype.get=function(e,n){var r=this;return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",function(i){return r.core.get({trans:i,key:e}).then(function(o){return r.hook.reading.fire(o)})}).then(n)},t.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(V(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var n=G(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(l){return l.compound&&n.every(function(p){return l.keyPath.indexOf(p)>=0})&&l.keyPath.every(function(p){return n.indexOf(p)>=0})})[0];if(r&&this.db._maxKey!==ke)return this.where(r.name).equals(r.keyPath.map(function(l){return e[l]}));!r&&te&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var i=this.schema.idxByName,o=this.db._deps.indexedDB;function a(l,p){try{return o.cmp(l,p)===0}catch{return!1}}var u=n.reduce(function(l,p){var v=l[0],y=l[1],h=i[p],d=e[p];return[v||h,v||!h?we(y,h&&h.multi?function(w){var _=ee(w,p);return V(_)&&_.some(function(A){return a(d,A)})}:function(w){return a(d,ee(w,p))}):y]},[null,null]),s=u[0],c=u[1];return s?this.where(s.name).equals(e[s.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")},t.prototype.filter=function(e){return this.toCollection().and(e)},t.prototype.count=function(e){return this.toCollection().count(e)},t.prototype.offset=function(e){return this.toCollection().offset(e)},t.prototype.limit=function(e){return this.toCollection().limit(e)},t.prototype.each=function(e){return this.toCollection().each(e)},t.prototype.toArray=function(e){return this.toCollection().toArray(e)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,V(e)?"["+e.join("+")+"]":e))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(e){this.schema.mappedClass=e;var n=function(r){if(!r)return r;var i=Object.create(e.prototype);for(var o in r)if(X(r,o))try{i[o]=r[o]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e},t.prototype.defineClass=function(){function e(n){W(this,n)}return this.mapToClass(e)},t.prototype.add=function(e,n){var r=this,i=this.schema.primKey,o=i.auto,a=i.keyPath,u=e;return a&&o&&(u=vt(a)(e)),this._trans("readwrite",function(s){return r.core.mutate({trans:s,type:"add",keys:n!=null?[n]:null,values:[u]})}).then(function(s){return s.numFailures?b.reject(s.failures[0]):s.lastResult}).then(function(s){if(a)try{$(e,a,s)}catch{}return s})},t.prototype.update=function(e,n){if(typeof n!="object"||V(n))throw new B.InvalidArgument("Modifications must be an object.");if(typeof e=="object"&&!V(e)){G(n).forEach(function(i){$(e,i,n[i])});var r=ee(e,this.schema.primKey.keyPath);return r===void 0?j(new B.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(e).modify(n)},t.prototype.put=function(e,n){var r=this,i=this.schema.primKey,o=i.auto,a=i.keyPath,u=e;return a&&o&&(u=vt(a)(e)),this._trans("readwrite",function(s){return r.core.mutate({trans:s,type:"put",values:[u],keys:n!=null?[n]:null})}).then(function(s){return s.numFailures?b.reject(s.failures[0]):s.lastResult}).then(function(s){if(a)try{$(e,a,s)}catch{}return s})},t.prototype.delete=function(e){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[e]})}).then(function(r){return r.numFailures?b.reject(r.failures[0]):void 0})},t.prototype.clear=function(){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"deleteRange",range:jn})}).then(function(n){return n.numFailures?b.reject(n.failures[0]):void 0})},t.prototype.bulkGet=function(e){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:e,trans:r}).then(function(i){return i.map(function(o){return n.hook.reading.fire(o)})})})},t.prototype.bulkAdd=function(e,n,r){var i=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var a=r?r.allKeys:void 0;return this._trans("readwrite",function(u){var s=i.schema.primKey,c=s.auto,l=s.keyPath;if(l&&o)throw new B.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new B.InvalidArgument("Arguments objects and keys must have the same length");var p=e.length,v=l&&c?e.map(vt(l)):e;return i.core.mutate({trans:u,type:"add",keys:o,values:v,wantResults:a}).then(function(y){var h=y.numFailures,d=y.results,w=y.lastResult,_=y.failures,A=a?d:w;if(h===0)return A;throw new Oe(i.name+".bulkAdd(): "+h+" of "+p+" operations failed",Object.keys(_).map(function(g){return _[g]}))})})},t.prototype.bulkPut=function(e,n,r){var i=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var a=r?r.allKeys:void 0;return this._trans("readwrite",function(u){var s=i.schema.primKey,c=s.auto,l=s.keyPath;if(l&&o)throw new B.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new B.InvalidArgument("Arguments objects and keys must have the same length");var p=e.length,v=l&&c?e.map(vt(l)):e;return i.core.mutate({trans:u,type:"put",keys:o,values:v,wantResults:a}).then(function(y){var h=y.numFailures,d=y.results,w=y.lastResult,_=y.failures,A=a?d:w;if(h===0)return A;throw new Oe(i.name+".bulkPut(): "+h+" of "+p+" operations failed",Object.keys(_).map(function(g){return _[g]}))})})},t.prototype.bulkDelete=function(e){var n=this,r=e.length;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"delete",keys:e})}).then(function(i){var o=i.numFailures,a=i.lastResult,u=i.failures;if(o===0)return a;throw new Oe(n.name+".bulkDelete(): "+o+" of "+r+" operations failed",u)})},t}();function yt(t){var e={},n=function(u,s){if(s){for(var c=arguments.length,l=new Array(c-1);--c;)l[c-1]=arguments[c];return e[u].subscribe.apply(null,l),t}else if(typeof u=="string")return e[u]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(u,s,c){if(typeof u=="object")return a(u);s||(s=kr),c||(c=P);var l={subscribers:[],fire:c,subscribe:function(p){l.subscribers.indexOf(p)===-1&&(l.subscribers.push(p),l.fire=s(l.fire,p))},unsubscribe:function(p){l.subscribers=l.subscribers.filter(function(v){return v!==p}),l.fire=l.subscribers.reduce(s,c)}};return e[u]=n[u]=l,l}function a(u){G(u).forEach(function(s){var c=u[s];if(V(c))o(s,u[s][0],u[s][1]);else if(c==="asap")var l=o(s,Me,function(){for(var v=arguments.length,y=new Array(v);v--;)y[v]=arguments[v];l.subscribers.forEach(function(h){vn(function(){h.apply(null,y)})})});else throw new B.InvalidArgument("Invalid event config")})}}function Ve(t,e){return Te(e).from({prototype:t}),e}function jr(t){return Ve(Nr.prototype,function(n,r,i){this.db=t,this._tx=i,this.name=n,this.schema=r,this.hook=t._allTables[n]?t._allTables[n].hook:yt(null,{creating:[Dr,P],reading:[xr,Me],updating:[Sr,P],deleting:[Br,P]})})}function Ue(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Ht(t,e){t.filter=we(t.filter,e)}function Lt(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return we(r(),e())}:e,t.justLimit=n&&!r}function Vr(t,e){t.isMatch=we(t.isMatch,e)}function mt(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new B.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function Vn(t,e,n){var r=mt(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function gt(t,e,n,r){var i=t.replayFilter?we(t.filter,t.replayFilter()):t.filter;if(t.or){var o={},a=function(u,s,c){if(!i||i(s,c,function(v){return s.stop(v)},function(v){return s.fail(v)})){var l=s.primaryKey,p=""+l;p==="[object ArrayBuffer]"&&(p=""+new Uint8Array(l)),X(o,p)||(o[p]=!0,e(u,s,c))}};return Promise.all([t.or._iterate(a,n),Un(Vn(t,r,n),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}else return Un(Vn(t,r,n),we(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function Un(t,e,n,r){var i=r?function(a,u,s){return n(r(a),u,s)}:n,o=M(i);return t.then(function(a){if(a)return a.start(function(){var u=function(){return a.continue()};(!e||e(a,function(s){return u=s},function(s){a.stop(s),u=P},function(s){a.fail(s),u=P}))&&o(a.value,a,function(s){return u=s}),u()})})}var Ur=function(){function t(){}return t.prototype._read=function(e,n){var r=this._ctx;return r.error?r.table._trans(null,j.bind(null,r.error)):r.table._trans("readonly",e).then(n)},t.prototype._write=function(e){var n=this._ctx;return n.error?n.table._trans(null,j.bind(null,n.error)):n.table._trans("readwrite",e,"locked")},t.prototype._addAlgorithm=function(e){var n=this._ctx;n.algorithm=we(n.algorithm,e)},t.prototype._iterate=function(e,n){return gt(this._ctx,e,n,this._ctx.table.core)},t.prototype.clone=function(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&W(r,e),n._ctx=r,n},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(e){var n=this._ctx;return this._read(function(r){return gt(n,e,r,n.table.core)})},t.prototype.count=function(e){var n=this;return this._read(function(r){var i=n._ctx,o=i.table.core;if(Ue(i,!0))return o.count({trans:r,query:{index:mt(i,o.schema),range:i.range}}).then(function(u){return Math.min(u,i.limit)});var a=0;return gt(i,function(){return++a,!1},r,o).then(function(){return a})}).then(e)},t.prototype.sortBy=function(e,n){var r=e.split(".").reverse(),i=r[0],o=r.length-1;function a(c,l){return l?a(c[r[l]],l-1):c[i]}var u=this._ctx.dir==="next"?1:-1;function s(c,l){var p=a(c,o),v=a(l,o);return p<v?-u:p>v?u:0}return this.toArray(function(c){return c.sort(s)}).then(n)},t.prototype.toArray=function(e){var n=this;return this._read(function(r){var i=n._ctx;if(i.dir==="next"&&Ue(i,!0)&&i.limit>0){var o=i.valueMapper,a=mt(i,i.table.core.schema);return i.table.core.query({trans:r,limit:i.limit,values:!0,query:{index:a,range:i.range}}).then(function(s){var c=s.result;return o?c.map(o):c})}else{var u=[];return gt(i,function(s){return u.push(s)},r,i.table.core).then(function(){return u})}},e)},t.prototype.offset=function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,Ue(n)?Lt(n,function(){var r=e;return function(i,o){return r===0?!0:r===1?(--r,!1):(o(function(){i.advance(r),r=0}),!1)}}):Lt(n,function(){var r=e;return function(){return--r<0}}),this)},t.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Lt(this._ctx,function(){var n=e;return function(r,i,o){return--n<=0&&i(o),n>=0}},!0),this},t.prototype.until=function(e,n){return Ht(this._ctx,function(r,i,o){return e(r.value)?(i(o),n):!0}),this},t.prototype.first=function(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)},t.prototype.last=function(e){return this.reverse().first(e)},t.prototype.filter=function(e){return Ht(this._ctx,function(n){return e(n.value)}),Vr(this._ctx,e),this},t.prototype.and=function(e){return this.filter(e)},t.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.key,i)})},t.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},t.prototype.eachPrimaryKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.primaryKey,i)})},t.prototype.keys=function(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(e)},t.prototype.primaryKeys=function(e){var n=this._ctx;if(n.dir==="next"&&Ue(n,!0)&&n.limit>0)return this._read(function(i){var o=mt(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(function(i){var o=i.result;return o}).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(e)},t.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},t.prototype.firstKey=function(e){return this.limit(1).keys(function(n){return n[0]}).then(e)},t.prototype.lastKey=function(e){return this.reverse().firstKey(e)},t.prototype.distinct=function(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return Ht(this._ctx,function(i){var o=i.primaryKey.toString(),a=X(r,o);return r[o]=!0,!a}),this},t.prototype.modify=function(e){var n=this,r=this._ctx;return this._write(function(i){var o;if(typeof e=="function")o=e;else{var a=G(e),u=a.length;o=function(A){for(var g=!1,m=0;m<u;++m){var f=a[m],E=e[f];ee(A,f)!==E&&($(A,f,E),g=!0)}return g}}var s=r.table.core,c=s.schema.primaryKey,l=c.outbound,p=c.extractKey,v="testmode"in Ze?1:2e3,y=n.db.core.cmp,h=[],d=0,w=[],_=function(A,g){var m=g.failures,f=g.numFailures;d+=A-f;for(var E=0,x=G(m);E<x.length;E++){var C=x[E];h.push(m[C])}};return n.clone().primaryKeys().then(function(A){var g=function(m){var f=Math.min(v,A.length-m);return s.getMany({trans:i,keys:A.slice(m,m+f)}).then(function(E){for(var x=[],C=[],D=l?[]:null,F=[],k=0;k<f;++k){var Q=E[k],I={value:Ie(Q),primKey:A[m+k]};o.call(I,I.value,I)!==!1&&(I.value==null?F.push(A[m+k]):!l&&y(p(Q),p(I.value))!==0?(F.push(A[m+k]),x.push(I.value)):(C.push(I.value),l&&D.push(A[m+k])))}return Promise.resolve(x.length>0&&s.mutate({trans:i,type:"add",values:x}).then(function(z){for(var R in z.failures)F.splice(parseInt(R),1);_(x.length,z)})).then(function(z){return C.length>0&&s.mutate({trans:i,type:"put",keys:D,values:C}).then(function(R){return _(C.length,R)})}).then(function(){return F.length>0&&s.mutate({trans:i,type:"delete",keys:F}).then(function(z){return _(F.length,z)})}).then(function(){return A.length>m+f&&g(m+v)})})};return g(0).then(function(){if(h.length>0)throw new tt("Error modifying one or more objects",h,d,w);return A.length})})})},t.prototype.delete=function(){var e=this._ctx,n=e.range;return Ue(e)&&(e.isPrimKey&&!Gr||n.type===3)?this._write(function(r){var i=e.table.core.schema.primaryKey,o=n;return e.table.core.count({trans:r,query:{index:i,range:o}}).then(function(a){return e.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(function(u){var s=u.failures;u.lastResult,u.results;var c=u.numFailures;if(c)throw new tt("Could not delete some values",Object.keys(s).map(function(l){return s[l]}),a-c);return a-c})})}):this.modify(function(r,i){return i.value=null})},t}();function Hr(t){return Ve(Ur.prototype,function(n,r){this.db=t;var i=jn,o=null;if(r)try{i=r()}catch(c){o=c}var a=n._ctx,u=a.table,s=u.hook.reading.fire;this._ctx={table:u,index:a.index,isPrimKey:!a.index||u.schema.primKey.keyPath&&a.index===u.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:a.or,valueMapper:s!==Me?s:null}})}function Lr(t,e){return t<e?-1:t===e?0:1}function Wr(t,e){return t>e?-1:t===e?0:1}function U(t,e,n){var r=t instanceof Ln?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function Re(t){return new t.Collection(t,function(){return Hn("")}).limit(0)}function Xr(t){return t==="next"?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function Zr(t){return t==="next"?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function $r(t,e,n,r,i,o){for(var a=Math.min(t.length,r.length),u=-1,s=0;s<a;++s){var c=e[s];if(c!==r[s])return i(t[s],n[s])<0?t.substr(0,s)+n[s]+n.substr(s+1):i(t[s],r[s])<0?t.substr(0,s)+r[s]+n.substr(s+1):u>=0?t.substr(0,u)+e[u]+n.substr(u+1):null;i(t[s],c)<0&&(u=s)}return a<r.length&&o==="next"?t+n.substr(t.length):a<t.length&&o==="prev"?t.substr(0,n.length):u<0?null:t.substr(0,u)+r[u]+n.substr(u+1)}function At(t,e,n,r){var i,o,a,u,s,c,l,p=n.length;if(!n.every(function(d){return typeof d=="string"}))return U(t,Gn);function v(d){i=Xr(d),o=Zr(d),a=d==="next"?Lr:Wr;var w=n.map(function(_){return{lower:o(_),upper:i(_)}}).sort(function(_,A){return a(_.lower,A.lower)});u=w.map(function(_){return _.upper}),s=w.map(function(_){return _.lower}),c=d,l=d==="next"?"":r}v("next");var y=new t.Collection(t,function(){return fe(u[0],s[p-1]+r)});y._ondirectionchange=function(d){v(d)};var h=0;return y._addAlgorithm(function(d,w,_){var A=d.key;if(typeof A!="string")return!1;var g=o(A);if(e(g,s,h))return!0;for(var m=null,f=h;f<p;++f){var E=$r(A,g,u[f],s[f],a,c);E===null&&m===null?h=f+1:(m===null||a(m,E)>0)&&(m=E)}return w(m!==null?function(){d.continue(m+l)}:_),!1}),y}function fe(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function Hn(t){return{type:1,lower:t,upper:t}}var Ln=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!0,configurable:!0}),t.prototype.between=function(e,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||i)&&!(r&&i)?Re(this):new this.Collection(this,function(){return fe(e,n,!r,!i)})}catch{return U(this,se)}},t.prototype.equals=function(e){return e==null?U(this,se):new this.Collection(this,function(){return Hn(e)})},t.prototype.above=function(e){return e==null?U(this,se):new this.Collection(this,function(){return fe(e,void 0,!0)})},t.prototype.aboveOrEqual=function(e){return e==null?U(this,se):new this.Collection(this,function(){return fe(e,void 0,!1)})},t.prototype.below=function(e){return e==null?U(this,se):new this.Collection(this,function(){return fe(void 0,e,!1,!0)})},t.prototype.belowOrEqual=function(e){return e==null?U(this,se):new this.Collection(this,function(){return fe(void 0,e)})},t.prototype.startsWith=function(e){return typeof e!="string"?U(this,Gn):this.between(e,e+ke,!0,!0)},t.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):At(this,function(n,r){return n.indexOf(r[0])===0},[e],ke)},t.prototype.equalsIgnoreCase=function(e){return At(this,function(n,r){return n===r[0]},[e],"")},t.prototype.anyOfIgnoreCase=function(){var e=ue.apply(xe,arguments);return e.length===0?Re(this):At(this,function(n,r){return r.indexOf(n)!==-1},e,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var e=ue.apply(xe,arguments);return e.length===0?Re(this):At(this,function(n,r){return r.some(function(i){return n.indexOf(i)===0})},e,ke)},t.prototype.anyOf=function(){var e=this,n=ue.apply(xe,arguments),r=this._cmp;try{n.sort(r)}catch{return U(this,se)}if(n.length===0)return Re(this);var i=new this.Collection(this,function(){return fe(n[0],n[n.length-1])});i._ondirectionchange=function(a){r=a==="next"?e._ascending:e._descending,n.sort(r)};var o=0;return i._addAlgorithm(function(a,u,s){for(var c=a.key;r(c,n[o])>0;)if(++o,o===n.length)return u(s),!1;return r(c,n[o])===0?!0:(u(function(){a.continue(n[o])}),!1)}),i},t.prototype.notEqual=function(e){return this.inAnyRange([[Nt,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var e=ue.apply(xe,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return U(this,se)}var n=e.reduce(function(r,i){return r?r.concat([[r[r.length-1][1],i]]):[[Nt,i]]},null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(e,n){var r=this,i=this._cmp,o=this._ascending,a=this._descending,u=this._min,s=this._max;if(e.length===0)return Re(this);if(!e.every(function(f){return f[0]!==void 0&&f[1]!==void 0&&o(f[0],f[1])<=0}))return U(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",B.InvalidArgument);var c=!n||n.includeLowers!==!1,l=n&&n.includeUppers===!0;function p(f,E){for(var x=0,C=f.length;x<C;++x){var D=f[x];if(i(E[0],D[1])<0&&i(E[1],D[0])>0){D[0]=u(D[0],E[0]),D[1]=s(D[1],E[1]);break}}return x===C&&f.push(E),f}var v=o;function y(f,E){return v(f[0],E[0])}var h;try{h=e.reduce(p,[]),h.sort(y)}catch{return U(this,se)}var d=0,w=l?function(f){return o(f,h[d][1])>0}:function(f){return o(f,h[d][1])>=0},_=c?function(f){return a(f,h[d][0])>0}:function(f){return a(f,h[d][0])>=0};function A(f){return!w(f)&&!_(f)}var g=w,m=new this.Collection(this,function(){return fe(h[0][0],h[h.length-1][1],!c,!l)});return m._ondirectionchange=function(f){f==="next"?(g=w,v=o):(g=_,v=a),h.sort(y)},m._addAlgorithm(function(f,E,x){for(var C=f.key;g(C);)if(++d,d===h.length)return E(x),!1;return A(C)?!0:(r._cmp(C,h[d][1])===0||r._cmp(C,h[d][0])===0||E(function(){v===o?f.continue(h[d][0]):f.continue(h[d][1])}),!1)}),m},t.prototype.startsWithAnyOf=function(){var e=ue.apply(xe,arguments);return e.every(function(n){return typeof n=="string"})?e.length===0?Re(this):this.inAnyRange(e.map(function(n){return[n,n+ke]})):U(this,"startsWithAnyOf() only works with strings")},t}();function ei(t){return Ve(Ln.prototype,function(n,r,i){this.db=t,this._ctx={table:n,index:r===":id"?null:r,or:i};var o=t._deps.indexedDB;if(!o)throw new B.MissingAPI("indexedDB API missing");this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(a,u){return o.cmp(u,a)},this._max=function(a,u){return o.cmp(a,u)>0?a:u},this._min=function(a,u){return o.cmp(a,u)<0?a:u},this._IDBKeyRange=t._deps.IDBKeyRange})}function Wn(t){return t.length===1?t[0]:t}function Wt(t){try{return t.only([[]]),[[]]}catch{return ke}}function ne(t){return M(function(e){return He(e),t(e.target.error),!1})}function He(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var ti=function(){function t(){}return t.prototype._lock=function(){return Pe(!T.global),++this._reculock,this._reculock===1&&!T.global&&(T.lockOwnerFor=this),this},t.prototype._unlock=function(){if(Pe(!T.global),--this._reculock==0)for(T.global||(T.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Ne(e[1],e[0])}catch{}}return this},t.prototype._locked=function(){return this._reculock&&T.lockOwnerFor!==this},t.prototype.create=function(e){var n=this;if(!this.mode)return this;var r=this.db.idbdb,i=this.db._state.dbOpenError;if(Pe(!this.idbtrans),!e&&!r)switch(i&&i.name){case"DatabaseClosedError":throw new B.DatabaseClosed(i);case"MissingAPIError":throw new B.MissingAPI(i.message,i);default:throw new B.OpenFailed(i)}if(!this.active)throw new B.TransactionInactive;return Pe(this._completion._state===null),e=this.idbtrans=e||r.transaction(Wn(this.storeNames),this.mode),e.onerror=M(function(o){He(o),n._reject(e.error)}),e.onabort=M(function(o){He(o),n.active&&n._reject(new B.Abort(e.error)),n.active=!1,n.on("abort").fire(o)}),e.oncomplete=M(function(){n.active=!1,n._resolve()}),this},t.prototype._promise=function(e,n,r){var i=this;if(e==="readwrite"&&this.mode!=="readwrite")return j(new B.ReadOnly("Transaction is readonly"));if(!this.active)return j(new B.TransactionInactive);if(this._locked())return new b(function(a,u){i._blockedFuncs.push([function(){i._promise(e,n,r).then(a,u)},T])});if(r)return ge(function(){var a=new b(function(u,s){i._lock();var c=n(u,s,i);c&&c.then&&c.then(u,s)});return a.finally(function(){return i._unlock()}),a._lib=!0,a});var o=new b(function(a,u){var s=n(a,u,i);s&&s.then&&s.then(a,u)});return o._lib=!0,o},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(e){var n=this._root(),r=b.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var o=n._waitingFor;return new b(function(a,u){r.then(function(s){return n._waitingQueue.push(M(a.bind(null,s)))},function(s){return n._waitingQueue.push(M(u.bind(null,s)))}).finally(function(){n._waitingFor===o&&(n._waitingFor=null)})})},t.prototype.abort=function(){this.active&&this._reject(new B.Abort),this.active=!1},t.prototype.table=function(e){var n=this._memoizedTables||(this._memoizedTables={});if(X(n,e))return n[e];var r=this.schema[e];if(!r)throw new B.NotFound("Table "+e+" not part of transaction");var i=new this.db.Table(e,r,this);return i.core=this.db.core.table(e),n[e]=i,i},t}();function ni(t){return Ve(ti.prototype,function(n,r,i,o){var a=this;this.db=t,this.mode=n,this.storeNames=r,this.schema=i,this.idbtrans=null,this.on=yt(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new b(function(u,s){a._resolve=u,a._reject=s}),this._completion.then(function(){a.active=!1,a.on.complete.fire()},function(u){var s=a.active;return a.active=!1,a.on.error.fire(u),a.parent?a.parent._reject(u):s&&a.idbtrans&&a.idbtrans.abort(),j(u)})})}function Xt(t,e,n,r,i,o,a){return{name:t,keyPath:e,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+Xn(e)}}function Xn(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function Zn(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:yn(n,function(r){return[r.name,r]})}}function Zt(t){return t==null?function(){}:typeof t=="string"?ri(t):function(e){return ee(e,t)}}function ri(t){var e=t.split(".");return e.length===1?function(n){return n[t]}:function(n){return ee(n,t)}}function $n(t,e){return e.type==="delete"?e.keys:e.keys||e.values.map(t.extractKey)}function ii(t,e,n){return e.type==="add"?Promise.resolve(new Array(e.values.length)):t.getMany({trans:e.trans,keys:n})}function er(t){return[].slice.call(t)}var oi=0;function Le(t){return t==null?":id":typeof t=="string"?t:"["+t.join("+")+"]"}function ai(t,e,n,r){var i=e.cmp.bind(e);function o(y,h){var d=er(y.objectStoreNames);return{schema:{name:y.name,tables:d.map(function(w){return h.objectStore(w)}).map(function(w){var _=w.keyPath,A=w.autoIncrement,g=V(_),m=_==null,f={},E={name:w.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m,compound:g,keyPath:_,autoIncrement:A,unique:!0,extractKey:Zt(_)},indexes:er(w.indexNames).map(function(x){return w.index(x)}).map(function(x){var C=x.name,D=x.unique,F=x.multiEntry,k=x.keyPath,Q=V(k),I={name:C,compound:Q,keyPath:k,unique:D,multiEntry:F,extractKey:Zt(k)};return f[Le(k)]=I,I}),getIndexByKeyPath:function(x){return f[Le(x)]}};return f[":id"]=E.primaryKey,_!=null&&(f[Le(_)]=E.primaryKey),E})},hasGetAll:d.length>0&&"getAll"in h.objectStore(d[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function a(y){if(y.type===3)return null;if(y.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var h=y.lower,d=y.upper,w=y.lowerOpen,_=y.upperOpen,A=h===void 0?d===void 0?null:n.upperBound(d,!!_):d===void 0?n.lowerBound(h,!!w):n.bound(h,d,!!w,!!_);return A}function u(y){var h=y.name;function d(A){var g=A.trans,m=A.type,f=A.keys,E=A.values,x=A.range,C=A.wantResults;return new Promise(function(D,F){D=M(D);var k=g.objectStore(h),Q=k.keyPath==null,I=m==="put"||m==="add";if(!I&&m!=="delete"&&m!=="deleteRange")throw new Error("Invalid operation type: "+m);var z=(f||E||{length:1}).length;if(f&&E&&f.length!==E.length)throw new Error("Given keys array must have same length as given values array.");if(z===0)return D({numFailures:0,failures:{},results:[],lastResult:void 0});var R=C&&Ct(f||$n(y.primaryKey,{type:m,keys:f,values:E})),J,S=[],H=0,L=function(q){++H,He(q),R&&(R[q.target._reqno]=void 0),S[q.target._reqno]=q.target.error},be=function(q){var ce=q.target;R[ce._reqno]=ce.result};if(m==="deleteRange"){if(x.type===4)return D({numFailures:H,failures:S,results:R,lastResult:void 0});x.type===3?J=k.clear():J=k.delete(a(x))}else{var ie=I?Q?[E,f]:[E,null]:[f,null],Fe=ie[0],oe=ie[1];if(I)for(var Y=0;Y<z;++Y)J=oe&&oe[Y]!==void 0?k[m](Fe[Y],oe[Y]):k[m](Fe[Y]),J._reqno=Y,R&&R[Y]===void 0&&(J.onsuccess=be),J.onerror=L;else for(var Y=0;Y<z;++Y)J=k[m](Fe[Y]),J._reqno=Y,J.onerror=L}var _e=function(q){var ce=q.target.result;R&&(R[z-1]=ce),D({numFailures:H,failures:S,results:R,lastResult:ce})};J.onerror=function(q){L(q),_e(q)},J.onsuccess=_e})}function w(A){var g=A.trans,m=A.values,f=A.query,E=A.reverse,x=A.unique;return new Promise(function(C,D){C=M(C);var F=f.index,k=f.range,Q=g.objectStore(h),I=F.isPrimaryKey?Q:Q.index(F.name),z=E?x?"prevunique":"prev":x?"nextunique":"next",R=m||!("openKeyCursor"in I)?I.openCursor(a(k),z):I.openKeyCursor(a(k),z);R.onerror=ne(D),R.onsuccess=M(function(J){var S=R.result;if(!S){C(null);return}S.___id=++oi,S.done=!1;var H=S.continue.bind(S),L=S.continuePrimaryKey;L&&(L=L.bind(S));var be=S.advance.bind(S),ie=function(){throw new Error("Cursor not started")},Fe=function(){throw new Error("Cursor not stopped")};S.trans=g,S.stop=S.continue=S.continuePrimaryKey=S.advance=ie,S.fail=M(D),S.next=function(){var oe=this,Y=1;return this.start(function(){return Y--?oe.continue():oe.stop()}).then(function(){return oe})},S.start=function(oe){var Y=new Promise(function(q,ce){q=M(q),R.onerror=ne(ce),S.fail=ce,S.stop=function(rr){S.stop=S.continue=S.continuePrimaryKey=S.advance=Fe,q(rr)}}),_e=function(){if(R.result)try{oe()}catch(q){S.fail(q)}else S.done=!0,S.start=function(){throw new Error("Cursor behind last entry")},S.stop()};return R.onsuccess=M(function(q){R.onsuccess=_e,_e()}),S.continue=H,S.continuePrimaryKey=L,S.advance=be,_e(),Y},C(S)},D)})}function _(A){return function(g){return new Promise(function(m,f){m=M(m);var E=g.trans,x=g.values,C=g.limit,D=g.query,F=C===1/0?void 0:C,k=D.index,Q=D.range,I=E.objectStore(h),z=k.isPrimaryKey?I:I.index(k.name),R=a(Q);if(C===0)return m({result:[]});if(A){var J=x?z.getAll(R,F):z.getAllKeys(R,F);J.onsuccess=function(be){return m({result:be.target.result})},J.onerror=ne(f)}else{var S=0,H=x||!("openKeyCursor"in z)?z.openCursor(R):z.openKeyCursor(R),L=[];H.onsuccess=function(be){var ie=H.result;if(!ie)return m({result:L});if(L.push(x?ie.value:ie.primaryKey),++S===C)return m({result:L});ie.continue()},H.onerror=ne(f)}})}}return{name:h,schema:y,mutate:d,getMany:function(A){var g=A.trans,m=A.keys;return new Promise(function(f,E){f=M(f);for(var x=g.objectStore(h),C=m.length,D=new Array(C),F=0,k=0,Q,I=function(S){var H=S.target;(D[H._pos]=H.result)!=null,++k===F&&f(D)},z=ne(E),R=0;R<C;++R){var J=m[R];J!=null&&(Q=x.get(m[R]),Q._pos=R,Q.onsuccess=I,Q.onerror=z,++F)}F===0&&f(D)})},get:function(A){var g=A.trans,m=A.key;return new Promise(function(f,E){f=M(f);var x=g.objectStore(h),C=x.get(m);C.onsuccess=function(D){return f(D.target.result)},C.onerror=ne(E)})},query:_(l),openCursor:w,count:function(A){var g=A.query,m=A.trans,f=g.index,E=g.range;return new Promise(function(x,C){var D=m.objectStore(h),F=f.isPrimaryKey?D:D.index(f.name),k=a(E),Q=k?F.count(k):F.count();Q.onsuccess=M(function(I){return x(I.target.result)}),Q.onerror=ne(C)})}}}var s=o(t,r),c=s.schema,l=s.hasGetAll,p=c.tables.map(function(y){return u(y)}),v={};return p.forEach(function(y){return v[y.name]=y}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(y){var h=v[y];if(!h)throw new Error("Table '"+y+"' not found");return v[y]},cmp:i,MIN_KEY:-1/0,MAX_KEY:Wt(n),schema:c}}function ui(t,e){return e.reduce(function(n,r){var i=r.create;return K(K({},n),i(n))},t)}function si(t,e,n,r){var i=n.IDBKeyRange,o=n.indexedDB,a=ui(ai(e,o,i,r),t.dbcore);return{dbcore:a}}function $t(t,e){var n=e.db,r=si(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach(function(i){var o=i.name;t.core.schema.tables.some(function(a){return a.name===o})&&(i.core=t.core.table(o),t[o]instanceof t.Table&&(t[o].core=i.core))})}function wt(t,e,n,r){n.forEach(function(i){var o=r[i];e.forEach(function(a){var u=Tt(a,i);(!u||"value"in u&&u.value===void 0)&&(a===t.Transaction.prototype||a instanceof t.Transaction?ae(a,i,{get:function(){return this.table(i)},set:function(s){dn(this,i,{value:s,writable:!0,configurable:!0,enumerable:!0})}}):a[i]=new t.Table(i,o))})})}function en(t,e){e.forEach(function(n){for(var r in n)n[r]instanceof t.Table&&delete n[r]})}function ci(t,e){return t._cfg.version-e._cfg.version}function li(t,e,n,r){var i=t._dbSchema,o=t._createTransaction("readwrite",t._storeNames,i);o.create(n),o._completion.catch(r);var a=o._reject.bind(o),u=T.transless||T;ge(function(){T.trans=o,T.transless=u,e===0?(G(i).forEach(function(s){tn(n,s,i[s].primKey,i[s].indexes)}),$t(t,n),b.follow(function(){return t.on.populate.fire(o)}).catch(a)):fi(t,e,o,n).catch(a)})}function fi(t,e,n,r){var i=[],o=t._versions,a=t._dbSchema=rn(t,t.idbdb,r),u=!1,s=o.filter(function(l){return l._cfg.version>=e});s.forEach(function(l){i.push(function(){var p=a,v=l._cfg.dbschema;on(t,p,r),on(t,v,r),a=t._dbSchema=v;var y=tr(p,v);y.add.forEach(function(g){tn(r,g[0],g[1].primKey,g[1].indexes)}),y.change.forEach(function(g){if(g.recreate)throw new B.Upgrade("Not yet support for changing primary key");var m=r.objectStore(g.name);g.add.forEach(function(f){return nn(m,f)}),g.change.forEach(function(f){m.deleteIndex(f.name),nn(m,f)}),g.del.forEach(function(f){return m.deleteIndex(f)})});var h=l._cfg.contentUpgrade;if(h&&l._cfg.version>e){$t(t,r),n._memoizedTables={},u=!0;var d=gn(v);y.del.forEach(function(g){d[g]=p[g]}),en(t,[t.Transaction.prototype]),wt(t,[t.Transaction.prototype],G(d),d),n.schema=d;var w=_n(h);w&&Ge();var _,A=b.follow(function(){if(_=h(n),_&&w){var g=Ae.bind(null,null);_.then(g,g)}});return _&&typeof _.then=="function"?b.resolve(_):A.then(function(){return _})}}),i.push(function(p){if(!u||!Yr){var v=l._cfg.dbschema;di(v,p)}en(t,[t.Transaction.prototype]),wt(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),n.schema=t._dbSchema})});function c(){return i.length?b.resolve(i.shift()(n.idbtrans)).then(c):b.resolve()}return c().then(function(){hi(a,r)})}function tr(t,e){var n={del:[],add:[],change:[]},r;for(r in t)e[r]||n.del.push(r);for(r in e){var i=t[r],o=e[r];if(!i)n.add.push([r,o]);else{var a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!jt)a.recreate=!0,n.change.push(a);else{var u=i.idxByName,s=o.idxByName,c=void 0;for(c in u)s[c]||a.del.push(c);for(c in s){var l=u[c],p=s[c];l?l.src!==p.src&&a.change.push(p):a.add.push(p)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}}return n}function tn(t,e,n,r){var i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(o){return nn(i,o)}),i}function hi(t,e){G(t).forEach(function(n){e.db.objectStoreNames.contains(n)||tn(e,n,t[n].primKey,t[n].indexes)})}function di(t,e){for(var n=0;n<e.db.objectStoreNames.length;++n){var r=e.db.objectStoreNames[n];t[r]==null&&e.db.deleteObjectStore(r)}}function nn(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function rn(t,e,n){var r={},i=et(e.objectStoreNames,0);return i.forEach(function(o){for(var a=n.objectStore(o),u=a.keyPath,s=Xt(Xn(u),u||"",!1,!1,!!a.autoIncrement,u&&typeof u!="string",!0),c=[],l=0;l<a.indexNames.length;++l){var p=a.index(a.indexNames[l]);u=p.keyPath;var v=Xt(p.name,u,!!p.unique,!!p.multiEntry,!1,u&&typeof u!="string",!1);c.push(v)}r[o]=Zn(o,s,c)}),r}function pi(t,e,n){t.verno=e.version/10;var r=t._dbSchema=rn(t,e,n);t._storeNames=et(e.objectStoreNames,0),wt(t,[t._allTables],G(r),r)}function vi(t,e){var n=rn(t,t.idbdb,e),r=tr(n,t._dbSchema);return!(r.add.length||r.change.some(function(i){return i.add.length||i.change.length}))}function on(t,e,n){for(var r=n.db.objectStoreNames,i=0;i<r.length;++i){var o=r[i],a=n.objectStore(o);t._hasGetAll="getAll"in a;for(var u=0;u<a.indexNames.length;++u){var s=a.indexNames[u],c=a.index(s).keyPath,l=typeof c=="string"?c:"["+et(c).join("+")+"]";if(e[o]){var p=e[o].idxByName[l];p&&(p.name=s,delete e[o].idxByName[l],e[o].idxByName[s]=p)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&O.WorkerGlobalScope&&O instanceof O.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}function yi(t){return t.split(",").map(function(e,n){e=e.trim();var r=e.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return Xt(r,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),V(i),n===0)})}var mi=function(){function t(){}return t.prototype._parseStoresSpec=function(e,n){G(e).forEach(function(r){if(e[r]!==null){var i=yi(e[r]),o=i.shift();if(o.multi)throw new B.Schema("Primary key cannot be multi-valued");i.forEach(function(a){if(a.auto)throw new B.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new B.Schema("Index must have a name and cannot be an empty string")}),n[r]=Zn(r,o,i)}})},t.prototype.stores=function(e){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?W(this._cfg.storesSource,e):e;var r=n._versions,i={},o={};return r.forEach(function(a){W(i,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(i,o)}),n._dbSchema=o,en(n,[n._allTables,n,n.Transaction.prototype]),wt(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],G(o),o),n._storeNames=G(o),this},t.prototype.upgrade=function(e){return this._cfg.contentUpgrade=e,this},t}();function gi(t){return Ve(mi.prototype,function(n){this.db=t,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}var We;function Ai(t){var e=t&&typeof t.databases=="function",n;if(!e){var r=new Ze(pt,{addons:[]});r.version(1).stores({dbnames:"name"}),n=r.table("dbnames")}return{getDatabaseNames:function(){return e?b.resolve(t.databases()).then(function(i){return i.map(function(o){return o.name}).filter(function(o){return o!==pt})}):n.toCollection().primaryKeys()},add:function(i){return!e&&i!==pt&&n.put({name:i}).catch(P)},remove:function(i){return!e&&i!==pt&&n.delete(i).catch(P)}}}function wi(t){try{We=Ai(t)}catch{}}function an(t){return ge(function(){return T.letThrough=!0,t()})}function bi(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(function(){return e.dbOpenError?j(e.dbOpenError):t});te&&(e.openCanceller._stackHolder=De()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.dbReadyResolve,i=null;return b.race([e.openCanceller,new b(function(o,a){if(!n)throw new B.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var u=t.name,s=e.autoSchema?n.open(u):n.open(u,Math.round(t.verno*10));if(!s)throw new B.MissingAPI("IndexedDB API not available");s.onerror=ne(a),s.onblocked=M(t._fireOnBlocked),s.onupgradeneeded=M(function(c){if(i=s.transaction,e.autoSchema&&!t._options.allowEmptyDB){s.onerror=He,i.abort(),s.result.close();var l=n.deleteDatabase(u);l.onsuccess=l.onerror=M(function(){a(new B.NoSuchDatabase("Database "+u+" doesnt exist"))})}else{i.onerror=ne(a);var p=c.oldVersion>Math.pow(2,62)?0:c.oldVersion;t.idbdb=s.result,li(t,p/10,i,a)}},a),s.onsuccess=M(function(){i=null;var c=t.idbdb=s.result,l=et(c.objectStoreNames);if(l.length>0)try{var p=c.transaction(Wn(l),"readonly");e.autoSchema?pi(t,c,p):(on(t,t._dbSchema,p),vi(t,p)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),$t(t,p)}catch{}je.push(t),c.onversionchange=M(function(v){e.vcFired=!0,t.on("versionchange").fire(v)}),We.add(u),o()},a)})]).then(function(){return e.onReadyBeingFired=[],b.resolve(an(t.on.ready.fire)).then(function o(){if(e.onReadyBeingFired.length>0){var a=e.onReadyBeingFired.reduce(Bn,P);return e.onReadyBeingFired=[],b.resolve(an(a)).then(o)}})}).finally(function(){e.onReadyBeingFired=null}).then(function(){return e.isBeingOpened=!1,t}).catch(function(o){try{i&&i.abort()}catch{}return e.isBeingOpened=!1,t.close(),e.dbOpenError=o,j(e.dbOpenError)}).finally(function(){e.openComplete=!0,r()})}function un(t){var e=function(a){return t.next(a)},n=function(a){return t.throw(a)},r=o(e),i=o(n);function o(a){return function(u){var s=a(u),c=s.value;return s.done?c:!c||typeof c.then!="function"?V(c)?Promise.all(c).then(r,i):r(c):c.then(r,i)}}return o(e)()}function _i(t,e,n){var r=arguments.length;if(r<2)throw new B.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=An(i);return[t,o,n]}function Ei(t,e,n,r,i){return b.resolve().then(function(){var o=T.transless||T,a=t._createTransaction(e,n,t._dbSchema,r),u={trans:a,transless:o};r?a.idbtrans=r.idbtrans:a.create();var s=_n(i);s&&Ge();var c,l=b.follow(function(){if(c=i.call(a,a),c)if(s){var p=Ae.bind(null,null);c.then(p,p)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=un(c))},u);return(c&&typeof c.then=="function"?b.resolve(c).then(function(p){return a.active?p:j(new B.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):l.then(function(){return c})).then(function(p){return r&&a._resolve(),a._completion.then(function(){return p})}).catch(function(p){return a._reject(p),j(p)})})}function Xe(t,e,n){for(var r=V(t)?t.slice():[t],i=0;i<n;++i)r.push(e);return r}function Ci(t){return K(K({},t),{table:function(e){var n=t.table(e),r=n.schema,i={},o=[];function a(d,w,_){var A=Le(d),g=i[A]=i[A]||[],m=d==null?0:typeof d=="string"?1:d.length,f=w>0,E=K(K({},_),{isVirtual:f,isPrimaryKey:!f&&_.isPrimaryKey,keyTail:w,keyLength:m,extractKey:Zt(d),unique:!f&&_.unique});if(g.push(E),E.isPrimaryKey||o.push(E),m>1){var x=m===2?d[0]:d.slice(0,m-1);a(x,w+1,_)}return g.sort(function(C,D){return C.keyTail-D.keyTail}),E}var u=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[u];for(var s=0,c=r.indexes;s<c.length;s++){var l=c[s];a(l.keyPath,0,l)}function p(d){var w=i[Le(d)];return w&&w[0]}function v(d,w){return{type:d.type===1?2:d.type,lower:Xe(d.lower,d.lowerOpen?t.MAX_KEY:t.MIN_KEY,w),lowerOpen:!0,upper:Xe(d.upper,d.upperOpen?t.MIN_KEY:t.MAX_KEY,w),upperOpen:!0}}function y(d){var w=d.query.index;return w.isVirtual?K(K({},d),{query:{index:w,range:v(d.query.range,w.keyTail)}}):d}var h=K(K({},n),{schema:K(K({},r),{primaryKey:u,indexes:o,getIndexByKeyPath:p}),count:function(d){return n.count(y(d))},query:function(d){return n.query(y(d))},openCursor:function(d){var w=d.query.index,_=w.keyTail,A=w.isVirtual,g=w.keyLength;if(!A)return n.openCursor(d);function m(f){function E(C){C!=null?f.continue(Xe(C,d.reverse?t.MAX_KEY:t.MIN_KEY,_)):d.unique?f.continue(Xe(f.key,d.reverse?t.MIN_KEY:t.MAX_KEY,_)):f.continue()}var x=Object.create(f,{continue:{value:E},continuePrimaryKey:{value:function(C,D){f.continuePrimaryKey(Xe(C,t.MAX_KEY,_),D)}},key:{get:function(){var C=f.key;return g===1?C[0]:C.slice(0,g)}},value:{get:function(){return f.value}}});return x}return n.openCursor(y(d)).then(function(f){return f&&m(f)})}});return h}})}var Ti={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Ci},xi={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return K(K({},t),{table:function(e){var n=t.table(e),r=n.schema.primaryKey,i=K(K({},n),{mutate:function(o){var a=T.trans,u=a.table(e).hook,s=u.deleting,c=u.creating,l=u.updating;switch(o.type){case"add":if(c.fire===P)break;return a._promise("readwrite",function(){return p(o)},!0);case"put":if(c.fire===P&&l.fire===P)break;return a._promise("readwrite",function(){return p(o)},!0);case"delete":if(s.fire===P)break;return a._promise("readwrite",function(){return p(o)},!0);case"deleteRange":if(s.fire===P)break;return a._promise("readwrite",function(){return v(o)},!0)}return n.mutate(o);function p(h){var d=T.trans,w=h.keys||$n(r,h);if(!w)throw new Error("Keys missing");return h=h.type==="add"||h.type==="put"?K(K({},h),{keys:w,wantResults:!0}):K({},h),h.type!=="delete"&&(h.values=Ct(h.values)),h.keys&&(h.keys=Ct(h.keys)),ii(n,h,w).then(function(_){var A=w.map(function(g,m){var f=_[m],E={onerror:null,onsuccess:null};if(h.type==="delete")s.fire.call(E,g,f,d);else if(h.type==="add"||f===void 0){var x=c.fire.call(E,g,h.values[m],d);g==null&&x!=null&&(g=x,h.keys[m]=g,r.outbound||$(h.values[m],r.keyPath,g))}else{var C=Bt(f,h.values[m]),D=l.fire.call(E,C,g,f,d);if(D){var F=h.values[m];Object.keys(D).forEach(function(k){X(F,k)?F[k]=D[k]:$(F,k,D[k])})}}return E});return n.mutate(h).then(function(g){for(var m=g.failures,f=g.results,E=g.numFailures,x=g.lastResult,C=0;C<w.length;++C){var D=f?f[C]:w[C],F=A[C];D==null?F.onerror&&F.onerror(m[C]):F.onsuccess&&F.onsuccess(h.type==="put"&&_[C]?h.values[C]:D)}return{failures:m,results:f,numFailures:E,lastResult:x}}).catch(function(g){return A.forEach(function(m){return m.onerror&&m.onerror(g)}),Promise.reject(g)})})}function v(h){return y(h.trans,h.range,1e4)}function y(h,d,w){return n.query({trans:h,values:!1,query:{index:r,range:d},limit:w}).then(function(_){var A=_.result;return p({type:"delete",keys:A,trans:h}).then(function(g){return g.numFailures>0?Promise.reject(g.failures[0]):A.length<w?{failures:[],numFailures:0,lastResult:void 0}:y(h,K(K({},d),{lower:A[A.length-1],lowerOpen:!0}),w)})})}}});return i}})}},Ze=function(){function t(e,n){var r=this;this._middlewares={},this.verno=0;var i=t.dependencies;this._options=n=K({addons:t.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var o=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null;var a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:P,dbReadyPromise:null,cancelOpen:P,openCanceller:null,autoSchema:!0};a.dbReadyPromise=new b(function(u){a.dbReadyResolve=u}),a.openCanceller=new b(function(u,s){a.cancelOpen=s}),this._state=a,this.name=e,this.on=yt(this,"populate","blocked","versionchange",{ready:[Bn,P]}),this.on.ready.subscribe=pn(this.on.ready.subscribe,function(u){return function(s,c){t.vip(function(){var l=r._state;if(l.openComplete)l.dbOpenError||b.resolve().then(s),c&&u(s);else if(l.onReadyBeingFired)l.onReadyBeingFired.push(s),c&&u(s);else{u(s);var p=r;c||u(function v(){p.on.ready.unsubscribe(s),p.on.ready.unsubscribe(v)})}})}}),this.Collection=Hr(this),this.Table=jr(this),this.Transaction=ni(this),this.Version=gi(this),this.WhereClause=ei(this),this.on("versionchange",function(u){u.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(u){!u.newVersion||u.newVersion<u.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+u.oldVersion/10)}),this._maxKey=Wt(n.IDBKeyRange),this._createTransaction=function(u,s,c,l){return new r.Transaction(u,s,c,l)},this._fireOnBlocked=function(u){r.on("blocked").fire(u),je.filter(function(s){return s.name===r.name&&s!==r&&!s._state.vcFired}).map(function(s){return s.on("versionchange").fire(u)})},this.use(Ti),this.use(xi),o.forEach(function(u){return u(r)})}return t.prototype.version=function(e){if(isNaN(e)||e<.1)throw new B.Type("Given version is not a positive number");if(e=Math.round(e*10)/10,this.idbdb||this._state.isBeingOpened)throw new B.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var n=this._versions,r=n.filter(function(i){return i._cfg.version===e})[0];return r||(r=new this.Version(e),n.push(r),n.sort(ci),r.stores({}),this._state.autoSchema=!1,r)},t.prototype._whenReady=function(e){var n=this;return this._state.openComplete||T.letThrough?e():new b(function(r,i){if(!n._state.isBeingOpened){if(!n._options.autoOpen){i(new B.DatabaseClosed);return}n.open().catch(P)}n._state.dbReadyPromise.then(r,i)}).then(e)},t.prototype.use=function(e){var n=e.stack,r=e.create,i=e.level,o=e.name;o&&this.unuse({stack:n,name:o});var a=this._middlewares[n]||(this._middlewares[n]=[]);return a.push({stack:n,create:r,level:i==null?10:i,name:o}),a.sort(function(u,s){return u.level-s.level}),this},t.prototype.unuse=function(e){var n=e.stack,r=e.name,i=e.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(o){return i?o.create!==i:r?o.name!==r:!1})),this},t.prototype.open=function(){return bi(this)},t.prototype.close=function(){var e=je.indexOf(this),n=this._state;if(e>=0&&je.splice(e,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}this._options.autoOpen=!1,n.dbOpenError=new B.DatabaseClosed,n.isBeingOpened&&n.cancelOpen(n.dbOpenError),n.dbReadyPromise=new b(function(r){n.dbReadyResolve=r}),n.openCanceller=new b(function(r,i){n.cancelOpen=i})},t.prototype.delete=function(){var e=this,n=arguments.length>0,r=this._state;return new b(function(i,o){var a=function(){e.close();var u=e._deps.indexedDB.deleteDatabase(e.name);u.onsuccess=M(function(){We.remove(e.name),i()}),u.onerror=ne(o),u.onblocked=e._fireOnBlocked};if(n)throw new B.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()})},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return this.idbdb!==null},t.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var e=this;return G(this._allTables).map(function(n){return e._allTables[n]})},enumerable:!0,configurable:!0}),t.prototype.transaction=function(){var e=_i.apply(this,arguments);return this._transaction.apply(this,e)},t.prototype._transaction=function(e,n,r){var i=this,o=T.trans;(!o||o.db!==this||e.indexOf("!")!==-1)&&(o=null);var a=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");var u,s;try{if(s=n.map(function(l){var p=l instanceof i.Table?l.name:l;if(typeof p!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return p}),e=="r"||e===Vt)u=Vt;else if(e=="rw"||e==Ut)u=Ut;else throw new B.InvalidArgument("Invalid transaction mode: "+e);if(o){if(o.mode===Vt&&u===Ut)if(a)o=null;else throw new B.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o&&s.forEach(function(l){if(o&&o.storeNames.indexOf(l)===-1)if(a)o=null;else throw new B.SubTransaction("Table "+l+" not included in parent transaction.")}),a&&o&&!o.active&&(o=null)}}catch(l){return o?o._promise(null,function(p,v){v(l)}):j(l)}var c=Ei.bind(null,this,u,s,o,r);return o?o._promise(u,c,"lock"):T.trans?Ne(T.transless,function(){return i._whenReady(c)}):this._whenReady(c)},t.prototype.table=function(e){if(!X(this._allTables,e))throw new B.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},t}(),he=Ze;Ke(he,K(K({},nt),{delete:function(t){var e=new he(t);return e.delete()},exists:function(t){return new he(t,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){return We?We.getDatabaseNames().then(t):b.resolve([])},defineClass:function(){function t(e){W(this,e)}return t},ignoreTransaction:function(t){return T.trans?Ne(T.transless,t):t()},vip:an,async:function(t){return function(){try{var e=un(t.apply(this,arguments));return!e||typeof e.then!="function"?b.resolve(e):e}catch(n){return j(n)}}},spawn:function(t,e,n){try{var r=un(t.apply(n,e||[]));return!r||typeof r.then!="function"?b.resolve(r):r}catch(i){return j(i)}},currentTransaction:{get:function(){return T.trans||null}},waitFor:function(t,e){var n=b.resolve(typeof t=="function"?he.ignoreTransaction(t):t).timeout(e||6e4);return T.trans?T.trans.waitFor(n):n},Promise:b,debug:{get:function(){return te},set:function(t){En(t,t==="dexie"?function(){return!0}:Nn)}},derive:Te,extend:W,props:Ke,override:pn,Events:yt,getByKeyPath:ee,setByKeyPath:$,delByKeyPath:mn,shallowClone:gn,deepClone:Ie,getObjectDiff:Bt,asap:vn,minKey:Nt,addons:[],connections:je,errnames:Er,dependencies:function(){try{return{indexedDB:O.indexedDB||O.mozIndexedDB||O.webkitIndexedDB||O.msIndexedDB,IDBKeyRange:O.IDBKeyRange||O.webkitIDBKeyRange}}catch{return{indexedDB:null,IDBKeyRange:null}}}(),semVer:Yn,version:Yn.split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,n*2)}),default:he,Dexie:he}));he.maxKey=Wt(he.dependencies.IDBKeyRange);wi(Ze.dependencies.indexedDB);b.rejectionMapper=Tr;En(te,Nn);class Di{constructor(){bt(this,"db");bt(this,"todoTable");this.db=new Ze("TodoDb"),this.db.version(1).stores({todo:"++id, isComplete, completeTime, createTime"}),this.todoTable=this.db.table("todo")}async getTodo(e){return this.todoTable.get(e)}async getCompleteTodos(e,n){return this.todoTable.where("isComplete").equals(1).reverse().sortBy("completeTime")}getUncompleteTodos(e,n){return this.todoTable.where("isComplete").equals(0).sortBy("createTime")}updateContent(e,n){return this.todoTable.update(e,{content:n,updateTime:new Date().getTime()})}reTodo(e){const n=new Date().getTime();return this.todoTable.update(e,{isComplete:Number(0),completeTime:n,updateTime:n})}completeTodo(e){const n=new Date().getTime();return this.todoTable.update(e,{isComplete:Number(1),completeTime:n,updateTime:n})}deleteTodo(e){return this.todoTable.delete(e)}addTodo(e){const n=new Date().getTime();return this.todoTable.add({content:e,isComplete:Number(0),updateTime:n,createTime:n})}}let re=new Di;const Bi=_t({emits:["add-todo"],setup(t,{emit:e}){const n=Ee(""),r=i=>{n.value!==""&&re.addTodo(n.value).then(o=>{e("add-todo",o),n.value=""}).catch(o=>{Z.error(`\u6DFB\u52A0Todo\u5931\u8D25\uFF1A${o}`)})};return(i,o)=>{const a=$e("el-input");return de(),ar(a,{class:"input-container",onKeyup:ur(r,["enter","native"]),modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=u=>n.value=u),placeholder:"\u6DFB\u52A0\u4EFB\u52A1\u81F3Todo List\uFF0C\u56DE\u8F66\u5373\u53EF\u4FDD\u5B58"},null,8,["onKeyup","modelValue"])}}});var Si=Et(Bi,[["__scopeId","data-v-06a0f796"]]),ki="data:image/png;base64,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",Ri="data:image/png;base64,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";const Fi={class:"container"},Ki={class:"title"},Pi={class:"todo-container"},Ii=["onClick"],Oi=["onClick"],Mi=["onClick"],zi=_t({props:{todos:null,title:null,compete:null},emits:["check-todo","content-change","delete-todo"],setup(t,{emit:e}){const n=c=>{e("check-todo",c)},r=Ee(!1),i=Ee(0),o=Ee(""),a=(c,l)=>{r.value=!0,i.value=l,o.value=c.content},u=c=>{e("content-change",i.value,c)},s=()=>{e("delete-todo",i.value),r.value=!1};return(c,l)=>{const p=$e("el-input"),v=$e("el-button"),y=$e("el-dialog");return de(),Ce("div",Fi,[sn("div",Ki,cn(t.title),1),(de(!0),Ce(sr,null,cr(t.todos,(h,d)=>(de(),Ce("div",Pi,[t.compete?(de(),Ce("img",{key:0,class:"todo-check",src:ki,onClick:w=>n(d)},null,8,Ii)):fn("",!0),t.compete?fn("",!0):(de(),Ce("img",{key:1,class:"todo-check",src:Ri,onClick:w=>n(d)},null,8,Oi)),sn("span",{onClick:w=>a(h,d),class:lr("todo-content "+(t.compete?"todo-content-complete":"todo-content-uncomplete"))},cn(h.content),11,Mi)]))),256)),pe(y,{modelValue:r.value,"onUpdate:modelValue":l[2]||(l[2]=h=>r.value=h),title:"\u6539\u53D8Todo\u5185\u5BB9",width:"30%"},{footer:ln(()=>[pe(v,{type:"danger",icon:"el-icon-delete",circle:"",onClick:s}),pe(v,{type:"success",icon:"el-icon-check",circle:"",onClick:l[1]||(l[1]=h=>r.value=!1)})]),default:ln(()=>[pe(p,{onInput:u,modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=h=>o.value=h),placeholder:"\u51C6\u5907\u505A\u4EC0\u4E48"},null,8,["modelValue"])]),_:1},8,["modelValue"])])}}});var nr=Et(zi,[["__scopeId","data-v-07652eaa"]]);const Qi={class:"container"},qi=_t({setup(t){const e=Ee([]),n=()=>re.getUncompleteTodos(1,1e5).then(v=>{e.value=v}).catch(v=>{Z.error(`\u83B7\u53D6\u672A\u5B8C\u6210\u5217\u8868\u5931\u8D25\uFF1A${v}`)});n();const r=Ee([]),i=()=>re.getCompleteTodos(1,1e5).then(v=>{r.value=v}).catch(v=>{Z.error(`\u83B7\u53D6\u5DF2\u5B8C\u6210\u5217\u8868\u5931\u8D25\uFF1A${v}`)});i();const o=v=>{re.getTodo(v).then(y=>{if(y==null){Z.error("\u83B7\u53D6todo\u5931\u8D25\uFF0Ctodo\u4E0D\u5B58\u5728");return}e.value.unshift(y)}).catch(y=>{Z.error(`\u83B7\u53D6todo\u5931\u8D25\uFF1A${y}`)})},a=v=>{re.completeTodo(e.value[v].id).then(y=>{y>0&&e.value.splice(v,1),i()}).catch(y=>{Z.error(`\u5B8C\u6210todo\u5931\u8D25\uFF1A${y}`)})},u=v=>{re.reTodo(r.value[v].id).then(y=>{y>0&&r.value.splice(v,1),n()}).catch(y=>{Z.error(`\u91CD\u65B0todo\u5931\u8D25\uFF1A${y}`)})},s=(v,y)=>{re.updateContent(e.value[v].id,y).then(h=>{h>0&&(e.value[v].content=y)}).catch(h=>{Z.error(`\u66F4\u65B0todo\u5185\u5BB9\u5931\u8D25\uFF1A${h}`)})},c=(v,y)=>{re.updateContent(r.value[v].id,y).then(h=>{h>0&&(r.value[v].content=y)}).catch(h=>{Z.error(`\u66F4\u65B0todo\u5185\u5BB9\u5931\u8D25\uFF1A${h}`)})},l=v=>{re.deleteTodo(e.value[v].id).then(()=>{e.value.splice(v,1)}).catch(y=>{Z.error(`\u5220\u9664todo\u5931\u8D25\uFF1A${y}`)})},p=v=>{re.deleteTodo(r.value[v].id).then(()=>{r.value.splice(v,1)}).catch(y=>{Z.error(`\u5220\u9664todo\u5931\u8D25\uFF1A${y}`)})};return(v,y)=>(de(),Ce("div",Qi,[pe(Si,{onAddTodo:o}),pe(nr,{title:"\u672A\u5B8C\u6210",todos:e.value,compete:!1,onCheckTodo:a,onContentChange:s,onDeleteTodo:l},null,8,["todos"]),pe(nr,{title:"\u5DF2\u5B8C\u6210",todos:r.value,compete:!0,onCheckTodo:u,onContentChange:c,onDeleteTodo:p},null,8,["todos"])]))}});var Ni=Et(qi,[["__scopeId","data-v-43b79778"]]);export{Ni as default};
